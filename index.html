<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Habits Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #fff;
    display: flex;
    justify-content: center;
    padding: 30px;
  }
  .container {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 30px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0px 2px 15px rgba(0,0,0,0.08);
    padding: 25px;
    max-width: 700px;
    width: 100%;
  }
  .left-column {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  h2 {
    font-size: 1.5rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .habit {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .habit input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: pink;
  }
  .habit span {
    font-size: 1rem;
  }
  .completed {
    text-decoration: line-through;
    opacity: 0.6;
  }
  .delete-btn {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 18px;
  }
  .add-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .add-section input {
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  .add-section button {
    background: pink;
    border: none;
    padding: 10px;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
  }
  .right-column {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
  }
  .info-box {
    border: 2px solid #ccc;
    border-radius: 10px;
    padding: 10px 20px;
    text-align: center;
    font-weight: 500;
  }
  .progress-ring {
    width: 120px;
    height: 120px;
  }
  .streak-text {
    font-size: 1rem;
    font-weight: 600;
  }
  @media (max-width: 600px) {
    .container {
      grid-template-columns: 1fr;
    }
    .right-column {
      align-items: flex-start;
    }
  }
</style>
</head>
<body>

<div class="container">
  <div class="left-column">
    <h2>üéÄ Daily Habits</h2>
    <div id="habit-list"></div>
    <div class="add-section">
      <input type="text" id="new-habit" placeholder="Add new habit...">
      <button onclick="addHabit()">Add Habit</button>
    </div>
  </div>
  <div class="right-column">
    <div class="info-box" id="date-box"></div>
    <div class="info-box" id="best-streak-box">Your best streak is 0 days</div>
    <svg class="progress-ring" viewBox="0 0 120 120">
      <circle cx="60" cy="60" r="50" stroke="#f8d0d6" stroke-width="10" fill="transparent"/>
      <circle id="progress-circle" cx="60" cy="60" r="50" stroke="pink" stroke-width="10" fill="transparent" stroke-linecap="round" stroke-dasharray="314" stroke-dashoffset="314"/>
    </svg>
    <div class="streak-text" id="current-streak-text">0 days streak</div>
  </div>
</div>

<script>
let habits = JSON.parse(localStorage.getItem('habits')) || [];
let streak = parseInt(localStorage.getItem('streak')) || 0;
let bestStreak = parseInt(localStorage.getItem('bestStreak')) || 0;
let lastCompletedDate = localStorage.getItem('lastCompletedDate') || null;

function updateDate() {
  const today = new Date();
  document.getElementById('date-box').textContent = today.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
}
updateDate();

function saveData() {
  localStorage.setItem('habits', JSON.stringify(habits));
  localStorage.setItem('streak', streak);
  localStorage.setItem('bestStreak', bestStreak);
  localStorage.setItem('lastCompletedDate', lastCompletedDate);
}

function renderHabits() {
  const list = document.getElementById('habit-list');
  list.innerHTML = '';
  habits.forEach((habit, index) => {
    const div = document.createElement('div');
    div.className = 'habit';
    div.innerHTML = `
      <input type="checkbox" ${habit.completed ? 'checked' : ''} onchange="toggleHabit(${index})">
      <span class="${habit.completed ? 'completed' : ''}">${habit.name}</span>
      <button class="delete-btn" onclick="deleteHabit(${index})">üóëÔ∏è</button>
    `;
    list.appendChild(div);
  });
}

function toggleHabit(index) {
  habits[index].completed = !habits[index].completed;
  checkStreak();
  saveData();
  renderHabits();
  updateProgress();
}

function addHabit() {
  const input = document.getElementById('new-habit');
  const name = input.value.trim();
  if (name) {
    habits.push({ name, completed: false });
    input.value = '';
    saveData();
    renderHabits();
  }
}

function deleteHabit(index) {
  habits.splice(index, 1);
  streak = 0;
  bestStreak = Math.max(bestStreak, streak);
  saveData();
  renderHabits();
  updateProgress();
}

function checkStreak() {
  const today = new Date().toDateString();
  if (habits.every(h => h.completed)) {
    if (lastCompletedDate !== today) {
      streak++;
      lastCompletedDate = today;
      if (streak > bestStreak) bestStreak = streak;
    }
  } else {
    if (lastCompletedDate !== today) {
      streak = 0;
    }
  }
}

function updateProgress() {
  const circle = document.getElementById('progress-circle');
  const fullCircumference = 314;
  if (bestStreak === 0) {
    circle.style.strokeDashoffset = fullCircumference;
  } else if (streak >= bestStreak) {
    circle.style.strokeDashoffset = 0;
  } else {
    const offset = fullCircumference - (streak / bestStreak) * fullCircumference;
    circle.style.strokeDashoffset = offset;
  }
  document.getElementById('current-streak-text').textContent = `${streak} days streak`;
  document.getElementById('best-streak-box').textContent = `Your best streak is ${bestStreak} days`;
}

renderHabits();
updateProgress();
</script>

</body>
</html>
